/*! For license information please see index.4fdc8095.js.LICENSE.txt */
(function(){var e,t,n,l,a={76930:function(e,t,n){"use strict";n.r(t),n("88449"),n("59849"),n("2490"),n("64211"),n("41874"),n("26699");var l=n("85893"),a=n("68370"),r=n("63988"),s=n("67294");n("96285");var i=n("1030"),o=n("17970"),c=n("93603"),d=n("91627"),u=n("74857");let{Header:f,Footer:m,Sider:h,Content:x}=a.Layout;t.default=()=>{let{isLoading:e,classesData:t,albumData:n}=(0,u.default)(),[m,p]=(0,s.useState)([]),[g,b]=(0,s.useState)([0,4]),j=n.filter(e=>!e.polygons.length&&0===g[0]||e.polygons.some(t=>m.includes(t.classIndex)&&e.polygons.length>=g[0]&&e.polygons.length<=g[1])),C=()=>{p([]),b([0,4])};return(0,l.jsxs)(a.Layout,{className:"min-h-[100vh] w-full overflow-hidden !bg-white",children:[(0,l.jsx)(h,{width:"100%",className:"!box-content flex w-full !min-w-0 !max-w-[332px] flex-col !bg-white px-8 py-4 text-black",children:(0,l.jsxs)("div",{className:"h-full rounded-xl border-2 border-solid border-[#D1D1D6] p-4",children:[(0,l.jsx)("img",{className:"mb-11 max-w-full",src:"https://markupchef.github.io/dataspan.ai/static/image/dataspan-logo.9b2ccda5.png",alt:"dataspan.ai"}),e&&(0,l.jsx)("p",{children:"Loading..."}),!e&&t&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,l.jsx)("div",{children:(0,l.jsx)(i.default,{albumClasses:t,selectedClasses:m,setSelectedClasses:p})}),(0,l.jsx)("div",{children:(0,l.jsx)(o.default,{rangeValue:g,setRangeValue:b})}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2 px-2",children:[(0,l.jsx)(a.Button,{onClick:C,type:"text",className:"text-sm font-semibold",icon:(0,l.jsx)(d.default,{}),children:"Clear filter"}),(0,l.jsx)(r.default,{href:"#",className:"!text-black opacity-50",children:"Need help?"})]})})]})}),(0,l.jsx)(a.Alert,{className:"mt-10",message:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h4",{children:"Total: 8h"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Layout - 2h"}),(0,l.jsx)("li",{children:"Filter - 2h"}),(0,l.jsx)("li",{children:"Popup - 1h"}),(0,l.jsx)("li",{children:"Polygon - 2h"}),(0,l.jsx)("li",{children:"Other - 1h"})]})]})})]})}),(0,l.jsxs)(a.Layout,{className:"!bg-transparent py-4",children:[(0,l.jsxs)(f,{className:"flex items-center justify-between gap-2 bg-transparent p-4",children:[(0,l.jsx)("h1",{children:"Bone fracture detection"}),(0,l.jsxs)("div",{className:"text-lg",children:[(0,l.jsx)("span",{className:"font-semibold",children:j.length})," of"," ",(0,l.jsx)("span",{className:"font-semibold",children:n.length})]})]}),(0,l.jsxs)(x,{className:"px-4 pb-9 text-black",children:[e&&(0,l.jsx)("p",{children:"Loading..."}),!e&&t&&n&&(0,l.jsx)(c.default,{classesData:t,albumData:j})]})]})]})}},61456:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924");var l=n("85893"),a=n("68370"),r=n("67294"),s=n("73789"),i=n("84338");t.default=e=>{let{classesData:t,items:n}=e,[o,c]=(0,r.useState)(1),d=s.ITEMS_PER_PAGE,u=(o-1)*d,f=n.slice(u,u+d);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-10 flex flex-wrap gap-4",children:f.map((e,n)=>(0,l.jsx)(i.default,{classesData:t,name:e.name,albumName:e.albumName,image:e.image,thumbnail:e.thumbnail,polygons:e.polygons},n))}),(0,l.jsx)(a.ConfigProvider,{theme:{components:{Pagination:{colorPrimary:"#fff",colorBorder:"#FFD75C",colorPrimaryBorder:"#FFD75C",colorPrimaryHover:"#fff",borderRadius:100,colorPrimaryBorderHover:"#FFD75C",colorBgContainer:"#FFD75C"}}},children:(0,l.jsx)(a.Pagination,{className:"text-center",defaultCurrent:1,total:n.length,defaultPageSize:d,onChange:e=>c(e),showSizeChanger:!1,hideOnSinglePage:!0})})]})}},37463:function(e,t,n){"use strict";n.r(t);var l=n("61456");t.default=l.default},21641:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924"),n("26699"),n("88449"),n("59849"),n("2490");var l=n("85893"),a=n("68370"),r=n("67294"),s=n("73789");t.default=e=>{let{albumClasses:t,selectedClasses:n,setSelectedClasses:i}=e,o=t.names.map((e,t)=>t),c=e=>{n.includes(e)?i(n.filter(t=>t!==e)):i([...n,e])};return(0,r.useEffect)(()=>{i(o)},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"mb-4 mt-0 text-base font-semibold",children:"Classes filter"}),(0,l.jsxs)("div",{className:"mb-3 flex gap-4",children:[(0,l.jsx)(a.Button,{type:"link",className:"p-0",onClick:()=>{i(o)},children:"Select All"}),(0,l.jsx)(a.Button,{type:"link",className:"p-0",onClick:()=>{i([])},children:"Deselect All"})]}),(0,l.jsx)("ul",{className:"m-0 flex list-none flex-wrap gap-2 p-0",children:t.names.map((e,t)=>{let r=s.CLASSES_COLORS_RGB[t],i=`rgb(${r})`,o=n.includes(t);return(0,l.jsx)("li",{children:(0,l.jsx)(a.Checkbox,{id:e,className:"filter-checkbox",name:e,value:t,checked:o,onChange:()=>c(t),children:(0,l.jsxs)("div",{className:"inline-flex cursor-pointer items-center gap-2 rounded-3xl border-2 border-solid px-3 py-2",style:{borderColor:i,backgroundColor:o?`rgba(${r}, 0.2)`:"transparent"},children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:i}}),(0,l.jsx)("span",{className:"text-xs font-semibold capitalize",children:e})]})})},t)})})]})}},1030:function(e,t,n){"use strict";n.r(t);var l=n("21641");t.default=l.default},87476:function(e,t,n){"use strict";n.r(t);var l=n("85893"),a=n("68370");t.default=e=>{let{rangeValue:t,setRangeValue:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"mb-3 mt-0 text-base font-semibold",children:"Polygon range"}),(0,l.jsxs)("div",{className:"item-center flex justify-between gap-2 text-xs",children:[(0,l.jsxs)("span",{children:["min ",(0,l.jsx)("span",{className:"font-semibold",children:0})]}),(0,l.jsxs)("span",{children:["max ",(0,l.jsx)("span",{className:"font-semibold",children:4})]})]}),(0,l.jsx)(a.ConfigProvider,{theme:{components:{Slider:{colorPrimaryBorderHover:"#FFD75C",trackBg:"rgba(255,215,92,0.7)",trackHoverBg:"#FFD75C",dotActiveBorderColor:"#FFD75C",handleColor:"#FFD75C",handleActiveColor:"#FFD75C"}}},children:(0,l.jsx)(a.Slider,{className:"!mb-0",range:!0,min:0,max:4,marks:{0:" ",1:" ",2:" ",3:" ",4:" "},value:t,onChange:e=>{n(e)}})})]})}},17970:function(e,t,n){"use strict";n.r(t);var l=n("87476");t.default=l.default},36347:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924"),n("88921"),n("96248"),n("13599"),n("27561"),n("11477"),n("64362"),n("15389"),n("90401"),n("3440"),n("45164"),n("66244"),n("91238"),n("89772"),n("54837"),n("88910"),n("87485"),n("56767"),n("76651"),n("61437"),n("35285"),n("63252"),n("39865"),n("17454");var l=n("85893"),a=n("68370"),r=n("67294"),s=n("73789");t.default=e=>{let{classesData:t,albumName:n,name:i,image:o,thumbnail:c,polygons:d}=e,[u,f]=(0,r.useState)(!1),m=e=>{let{polygons:n,imgWidth:a,imgHeight:r,isShowTitle:i}=e;return n.map((e,n)=>{let o=Math.min(...e.coordinates.map(e=>e.x)),c=Math.max(...e.coordinates.map(e=>e.x)),d=Math.min(...e.coordinates.map(e=>e.y)),u=Math.max(...e.coordinates.map(e=>e.y)),f=c-o,m=s.CLASSES_COLORS_RGB[e.classIndex];return(0,l.jsxs)("div",{style:{position:"absolute",top:d*r,left:o*a,width:f*a,height:(u-d)*r,backgroundColor:"transparent",borderRadius:"3px",border:`1px solid rgb(${m})`},children:[i&&(0,l.jsx)("div",{className:"absolute bottom-[100%] left-0 w-full text-left font-light",style:{width:f*a+1,fontSize:"12px",backgroundColor:`rgb(${m})`,padding:"0 0.3em",lineHeight:1,boxSizing:"border-box"},children:t.names[e.classIndex]}),(0,l.jsx)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:(0,l.jsx)("polygon",{points:e.coordinates.map(e=>{let{x:t,y:n}=e;return`${(t-o)*a},${(n-d)*r}`}).join(" "),style:{fill:`rgba(${m}, 0.3)`,stroke:s.CLASSES_COLORS_RGB[e.classIndex],strokeWidth:1}})})]},n)})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("figure",{className:"relative m-0 w-[130px]",onClick:()=>{f(!0)},children:[(0,l.jsx)("img",{src:c,width:130,height:130,alt:i}),d.length>0&&m({polygons:d,imgWidth:130,imgHeight:130}),(0,l.jsx)(a.Tooltip,{title:i,children:(0,l.jsx)("figcaption",{className:"truncate",children:i})})]}),(0,l.jsxs)(a.Modal,{width:520,title:(0,l.jsx)("div",{className:"text-sm font-normal capitalize",children:i}),footer:!1,open:u,onCancel:()=>{f(!1)},children:[(0,l.jsx)("p",{className:"text-xs font-light",children:"Details"}),(0,l.jsx)("div",{className:"mb-4",children:(e=>{let n=e.map(e=>t.names[e.classIndex]),a=[...new Set(n)];return(0,l.jsx)("div",{className:"flex flex-col items-start gap-2",children:a.map((e,n)=>{let a=`rgb(${s.CLASSES_COLORS_RGB[t.names.indexOf(e)]})`;return(0,l.jsx)("div",{className:"inline-block rounded-2xl px-6 py-1 leading-none text-black",style:{backgroundColor:a},children:e.charAt(0).toUpperCase()+e.slice(1)},n)})})})(d)}),(0,l.jsxs)("div",{className:"relative text-center",children:[(0,l.jsx)("img",{className:"max-h-[447px] max-w-full",width:447,height:447,src:o,alt:i}),d.length>0&&m({polygons:d,imgWidth:447,imgHeight:447,isShowTitle:!0})]})]})]})}},84338:function(e,t,n){"use strict";n.r(t);var l=n("36347");t.default=l.default},92266:function(e,t,n){"use strict";n.r(t),n("88449"),n("59849"),n("2490");var l=n("85893"),a=n("68370"),r=n("37463");t.default=e=>{let{classesData:t,albumData:n}=e,s=n.filter(e=>"test"===e.albumName),i=n.filter(e=>"train"===e.albumName),o=n.filter(e=>"valid"===e.albumName),c=[{key:"1",label:"All groups",children:(0,l.jsx)(r.default,{classesData:t,items:n})},{key:"2",label:"Test",children:(0,l.jsx)(r.default,{classesData:t,items:s})},{key:"3",label:"Train",children:(0,l.jsx)(r.default,{classesData:t,items:i})},{key:"4",label:"Valid",children:(0,l.jsx)(r.default,{classesData:t,items:o})}];return(0,l.jsx)(a.ConfigProvider,{theme:{components:{Tabs:{colorPrimaryBorder:"#FFD75C",inkBarColor:"#FFD75C",itemActiveColor:"#FFD75C",itemSelectedColor:"#FFD75C",itemHoverColor:"#FFD75C"}}},children:(0,l.jsx)(a.Tabs,{defaultActiveKey:"1",items:c})})}},93603:function(e,t,n){"use strict";n.r(t);var l=n("92266");t.default=l.default},91627:function(e,t,n){"use strict";n.r(t);var l=n("85893");t.default=e=>(0,l.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.75 5.99992C1.75 5.49366 2.14175 5.08325 2.625 5.08325H18.375C18.8582 5.08325 19.25 5.49366 19.25 5.99992C19.25 6.50618 18.8582 6.91659 18.375 6.91659H2.625C2.14175 6.91659 1.75 6.50618 1.75 5.99992Z",fill:"black"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.75 3.25008C8.51794 3.25008 8.29538 3.34666 8.13128 3.51857C7.96719 3.69048 7.875 3.92363 7.875 4.16675V6.00008C7.875 6.50634 7.48325 6.91675 7 6.91675C6.51675 6.91675 6.125 6.50634 6.125 6.00008V4.16675C6.125 3.4374 6.40156 2.73793 6.89385 2.2222C7.38613 1.70648 8.05381 1.41675 8.75 1.41675H12.25C12.9462 1.41675 13.6139 1.70648 14.1062 2.2222C14.5984 2.73793 14.875 3.4374 14.875 4.16675V6.00008C14.875 6.50634 14.4832 6.91675 14 6.91675C13.5168 6.91675 13.125 6.50634 13.125 6.00008V4.16675C13.125 3.92363 13.0328 3.69048 12.8687 3.51857C12.7046 3.34666 12.4821 3.25008 12.25 3.25008H8.75ZM4.375 5.08341C4.85825 5.08341 5.25 5.49382 5.25 6.00008V18.8334C5.25 19.0765 5.34219 19.3097 5.50628 19.4816C5.67038 19.6535 5.89294 19.7501 6.125 19.7501H14.875C15.1071 19.7501 15.3296 19.6535 15.4937 19.4816C15.6578 19.3097 15.75 19.0765 15.75 18.8334V6.00008C15.75 5.49382 16.1418 5.08341 16.625 5.08341C17.1082 5.08341 17.5 5.49382 17.5 6.00008V18.8334C17.5 19.5628 17.2234 20.2622 16.7312 20.778C16.2389 21.2937 15.5712 21.5834 14.875 21.5834H6.125C5.42881 21.5834 4.76113 21.2937 4.26884 20.778C3.77656 20.2622 3.5 19.5628 3.5 18.8334V6.00008C3.5 5.49382 3.89175 5.08341 4.375 5.08341Z",fill:"black"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.75 9.66675C9.23325 9.66675 9.625 10.0772 9.625 10.5834V16.0834C9.625 16.5897 9.23325 17.0001 8.75 17.0001C8.26675 17.0001 7.875 16.5897 7.875 16.0834V10.5834C7.875 10.0772 8.26675 9.66675 8.75 9.66675Z",fill:"black"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.25 9.66675C12.7332 9.66675 13.125 10.0772 13.125 10.5834V16.0834C13.125 16.5897 12.7332 17.0001 12.25 17.0001C11.7668 17.0001 11.375 16.5897 11.375 16.0834V10.5834C11.375 10.0772 11.7668 9.66675 12.25 9.66675Z",fill:"black"})]})},73789:function(e,t,n){"use strict";n.r(t),n.d(t,{ALBUMS:function(){return a},CLASSES_COLORS_RGB:function(){return l},ITEMS_PER_PAGE:function(){return s},NUMBER_REQUESTED_OBJECTS_FOR_ALBUM:function(){return r}});let l=["61, 155, 233","186, 218, 85","255, 215, 92","242, 88, 88","44, 225, 203","253, 176, 62 ","215, 131, 255"],a=["test","train","valid"],r=200,s=56},66811:function(e,t,n){"use strict";n.r(t),n("15581"),n("34514"),n("2490"),n("57640"),n("9924"),n("57658");t.default=function(e){let t=e.split("\n"),n=[];return t.forEach(e=>{let t=e.split(" "),l=parseInt(t[0]),a=t.slice(1).map(e=>parseFloat(e)),r=[];for(let e=0;e<a.length;e+=2)r.push({x:a[e],y:a[e+1]});!isNaN(l)&&n.push({classIndex:l,coordinates:r})}),n}},78652:function(e,t,n){"use strict";n.r(t);var l=n("79589");t.default=function(e){try{let t=l.default.parse(e);return{nc:t.nc,names:t.names}}catch(e){return console.error("Error parsing YAML file:",e),null}}},2938:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924");var l=n("98690"),a=n.n(l),r=n("73789"),s=n("66811");let i=async(e,t)=>{let n="dataspan.frontend-home-assignment",l="bone-fracture-detection";a().config.region="eu-central-1",a().config.credentials=new(a()).CognitoIdentityCredentials({IdentityPoolId:"eu-central-1:31ebe2ab-fc9d-4a2c-96a9-9dee9a9db8b9"});let i=new(a()).S3({apiVersion:"2006-03-01",params:{Bucket:n}}),o=`${l}/${e}/images/`;try{let a=await i.listObjects({Bucket:n,Prefix:o,MaxKeys:r.NUMBER_REQUESTED_OBJECTS_FOR_ALBUM}).promise(),c=i.endpoint.href,d=`${c}${n}/`;if(!a.Contents)return console.error("No photos found in album");let u=a.Contents.map(t=>{let n=t.Key,a=n&&n.split("/").pop();return`${l}/${e}/labels/${a.replace(".jpg",".txt")}`}).map(e=>i.getObject({Bucket:n,Key:e}).promise()),f=await Promise.all(u),m=a.Contents.map((t,n)=>{let a=t.Key,r=a&&a.split("/").pop(),i=`${d}${encodeURIComponent(a)}`,o=`${d}${l}/${encodeURIComponent(e+"/thumbnails/"+r)}`,c=r.split(".")[0],u=f[n].Body.toString("utf-8");return{albumName:e,name:c,image:i,thumbnail:o,polygons:(0,s.default)(u)}});t(m)}catch(e){console.error("Error listing objects in album:",e)}};t.default=i},75694:function(e,t,n){"use strict";n.r(t);var l=n("98690"),a=n.n(l),r=n("78652");t.default=e=>{a().config.region="eu-central-1",a().config.credentials=new(a()).CognitoIdentityCredentials({IdentityPoolId:"eu-central-1:31ebe2ab-fc9d-4a2c-96a9-9dee9a9db8b9"});let t=new(a()).S3({apiVersion:"2006-03-01",params:{Bucket:"dataspan.frontend-home-assignment"}});t.getObject({Bucket:"dataspan.frontend-home-assignment",Key:"bone-fracture-detection/data.yaml"},function(t,n){if(t)console.error("Error getting data.yaml:",t),e(null);else{let t=n.Body.toString("utf-8");e((0,r.default)(t))}})}},74857:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924");var l=n("67294"),a=n("73789"),r=n("2938"),s=n("75694");t.default=()=>{let[e,t]=(0,l.useState)(!0),n=(0,l.useRef)(!1),[i,o]=(0,l.useState)(null),[c,d]=(0,l.useState)([]),u=a.ALBUMS;return(0,l.useEffect)(()=>{!n.current&&Promise.all([new Promise(e=>{(0,s.default)(t=>{o(t),e(null)})}),...u.map(e=>new Promise(t=>{(0,r.default)(e,t)}))]).then(e=>{d(e.slice(1).flat()),n.current=!0,t(!1)})},[]),{isLoading:e,classesData:i,albumData:c}}},69506:function(e,t,n){"use strict";n.r(t);var l=n("85893"),a=n("67294"),r=n.n(a),s=n("20745"),i=n("76930");s.createRoot(document.getElementById("root")).render((0,l.jsx)(r().StrictMode,{children:(0,l.jsx)(i.default,{})}))},96285:function(e){},7378:function(){}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=a,s.es=function(e,t){return Object.keys(e).forEach(function(n){"default"!==n&&!Object.prototype.hasOwnProperty.call(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})}),e},e=[],s.O=function(t,n,l,a){if(n){a=a||0;for(var r=e.length;r>0&&e[r-1][2]>a;r--)e[r]=e[r-1];e[r]=[n,l,a];return}for(var i=1/0,r=0;r<e.length;r++){for(var n=e[r][0],l=e[r][1],a=e[r][2],o=!0,c=0;c<n.length;c++)i>=a&&Object.keys(s.O).every(function(e){return s.O[e](n[c])})?n.splice(c--,1):(o=!1,a<i&&(i=a));if(o){e.splice(r--,1);var d=l();void 0!==d&&(t=d)}}return t},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={980:0},s.O.j=function(e){return 0===t[e]},n=function(e,n){var l=n[0],a=n[1],r=n[2],i,o,c=0;if(l.some(function(e){return 0!==t[e]})){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);if(r)var d=r(s)}for(e&&e(n);c<l.length;c++)o=l[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(d)},(l=self.webpackChunkdataspan_ai=self.webpackChunkdataspan_ai||[]).forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l));var i=s.O(void 0,["126","361","770"],function(){return s("69506")});s.O(i)})();